/*
 * Code generated by Speakeasy (https://speakeasy.com). DO NOT EDIT.
 */

import { McpServer } from "@modelcontextprotocol/sdk/server/mcp.js";
import { MiddayCore } from "../core.js";
import { SDKOptions } from "../lib/config.js";
import type { ConsoleLogger } from "./console-logger.js";
import { createRegisterPrompt } from "./prompts.js";
import {
  createRegisterResource,
  createRegisterResourceTemplate,
} from "./resources.js";
import { MCPScope } from "./scopes.js";
import { createRegisterTool } from "./tools.js";
import { tool$bankAccountsDeleteV1BankAccountsId } from "./tools/bankAccountsDeleteV1BankAccountsId.js";
import { tool$bankAccountsGetV1BankAccounts } from "./tools/bankAccountsGetV1BankAccounts.js";
import { tool$bankAccountsGetV1BankAccountsId } from "./tools/bankAccountsGetV1BankAccountsId.js";
import { tool$bankAccountsPatchV1BankAccountsId } from "./tools/bankAccountsPatchV1BankAccountsId.js";
import { tool$bankAccountsPostV1BankAccounts } from "./tools/bankAccountsPostV1BankAccounts.js";
import { tool$customersDeleteV1CustomersId } from "./tools/customersDeleteV1CustomersId.js";
import { tool$customersGetV1Customers } from "./tools/customersGetV1Customers.js";
import { tool$customersGetV1CustomersId } from "./tools/customersGetV1CustomersId.js";
import { tool$customersPatchV1CustomersId } from "./tools/customersPatchV1CustomersId.js";
import { tool$customersPostV1Customers } from "./tools/customersPostV1Customers.js";
import { tool$documentsDeleteV1DocumentsId } from "./tools/documentsDeleteV1DocumentsId.js";
import { tool$documentsGetV1Documents } from "./tools/documentsGetV1Documents.js";
import { tool$documentsGetV1DocumentsId } from "./tools/documentsGetV1DocumentsId.js";
import { tool$inboxDeleteV1InboxId } from "./tools/inboxDeleteV1InboxId.js";
import { tool$inboxGetV1Inbox } from "./tools/inboxGetV1Inbox.js";
import { tool$inboxGetV1InboxId } from "./tools/inboxGetV1InboxId.js";
import { tool$inboxPatchV1InboxId } from "./tools/inboxPatchV1InboxId.js";
import { tool$invoicesDeleteV1InvoicesId } from "./tools/invoicesDeleteV1InvoicesId.js";
import { tool$invoicesGetV1Invoices } from "./tools/invoicesGetV1Invoices.js";
import { tool$invoicesGetV1InvoicesId } from "./tools/invoicesGetV1InvoicesId.js";
import { tool$invoicesGetV1InvoicesPaymentStatus } from "./tools/invoicesGetV1InvoicesPaymentStatus.js";
import { tool$invoicesGetV1InvoicesSummary } from "./tools/invoicesGetV1InvoicesSummary.js";
import { tool$metricsGetV1MetricsBurnRate } from "./tools/metricsGetV1MetricsBurnRate.js";
import { tool$metricsGetV1MetricsExpenses } from "./tools/metricsGetV1MetricsExpenses.js";
import { tool$metricsGetV1MetricsProfit } from "./tools/metricsGetV1MetricsProfit.js";
import { tool$metricsGetV1MetricsRevenue } from "./tools/metricsGetV1MetricsRevenue.js";
import { tool$metricsGetV1MetricsRunway } from "./tools/metricsGetV1MetricsRunway.js";
import { tool$metricsGetV1MetricsSpending } from "./tools/metricsGetV1MetricsSpending.js";
import { tool$searchGetV1Search } from "./tools/searchGetV1Search.js";
import { tool$tagsDeleteV1TagsId } from "./tools/tagsDeleteV1TagsId.js";
import { tool$tagsGetV1Tags } from "./tools/tagsGetV1Tags.js";
import { tool$tagsGetV1TagsId } from "./tools/tagsGetV1TagsId.js";
import { tool$tagsPatchV1TagsId } from "./tools/tagsPatchV1TagsId.js";
import { tool$tagsPostV1Tags } from "./tools/tagsPostV1Tags.js";
import { tool$teamsGetV1Teams } from "./tools/teamsGetV1Teams.js";
import { tool$teamsGetV1TeamsId } from "./tools/teamsGetV1TeamsId.js";
import { tool$teamsGetV1TeamsIdMembers } from "./tools/teamsGetV1TeamsIdMembers.js";
import { tool$teamsPatchV1TeamsId } from "./tools/teamsPatchV1TeamsId.js";
import { tool$trackerDeleteV1TrackerEntriesId } from "./tools/trackerDeleteV1TrackerEntriesId.js";
import { tool$trackerDeleteV1TrackerProjectsId } from "./tools/trackerDeleteV1TrackerProjectsId.js";
import { tool$trackerGetV1TrackerEntries } from "./tools/trackerGetV1TrackerEntries.js";
import { tool$trackerGetV1TrackerProjects } from "./tools/trackerGetV1TrackerProjects.js";
import { tool$trackerGetV1TrackerProjectsId } from "./tools/trackerGetV1TrackerProjectsId.js";
import { tool$trackerPatchV1TrackerProjectsId } from "./tools/trackerPatchV1TrackerProjectsId.js";
import { tool$trackerPostV1TrackerProjects } from "./tools/trackerPostV1TrackerProjects.js";
import { tool$transactionsDeleteV1TransactionsBulk } from "./tools/transactionsDeleteV1TransactionsBulk.js";
import { tool$transactionsDeleteV1TransactionsId } from "./tools/transactionsDeleteV1TransactionsId.js";
import { tool$transactionsGetV1Transactions } from "./tools/transactionsGetV1Transactions.js";
import { tool$transactionsGetV1TransactionsId } from "./tools/transactionsGetV1TransactionsId.js";
import { tool$transactionsPatchV1TransactionsBulk } from "./tools/transactionsPatchV1TransactionsBulk.js";
import { tool$transactionsPatchV1TransactionsId } from "./tools/transactionsPatchV1TransactionsId.js";
import { tool$transactionsPostV1Transactions } from "./tools/transactionsPostV1Transactions.js";
import { tool$transactionsPostV1TransactionsBulk } from "./tools/transactionsPostV1TransactionsBulk.js";
import { tool$usersGetV1UsersMe } from "./tools/usersGetV1UsersMe.js";
import { tool$usersPatchV1UsersMe } from "./tools/usersPatchV1UsersMe.js";

export function createMCPServer(deps: {
  logger: ConsoleLogger;
  allowedTools?: string[] | undefined;
  scopes?: MCPScope[] | undefined;
  serverURL?: string | undefined;
  bearerAuth?: SDKOptions["bearerAuth"] | undefined;
  serverIdx?: SDKOptions["serverIdx"] | undefined;
}) {
  const server = new McpServer({
    name: "Midday",
    version: "0.0.1",
  });

  const client = new MiddayCore({
    bearerAuth: deps.bearerAuth,
    serverURL: deps.serverURL,
    serverIdx: deps.serverIdx,
  });

  const scopes = new Set(deps.scopes);

  const allowedTools = deps.allowedTools && new Set(deps.allowedTools);
  const tool = createRegisterTool(
    deps.logger,
    server,
    client,
    scopes,
    allowedTools,
  );
  const resource = createRegisterResource(deps.logger, server, client, scopes);
  const resourceTemplate = createRegisterResourceTemplate(
    deps.logger,
    server,
    client,
    scopes,
  );
  const prompt = createRegisterPrompt(deps.logger, server, client, scopes);
  const register = { tool, resource, resourceTemplate, prompt };
  void register; // suppress unused warnings

  tool(tool$transactionsGetV1Transactions);
  tool(tool$transactionsPostV1Transactions);
  tool(tool$transactionsGetV1TransactionsId);
  tool(tool$transactionsPatchV1TransactionsId);
  tool(tool$transactionsDeleteV1TransactionsId);
  tool(tool$transactionsPatchV1TransactionsBulk);
  tool(tool$transactionsPostV1TransactionsBulk);
  tool(tool$transactionsDeleteV1TransactionsBulk);
  tool(tool$teamsGetV1Teams);
  tool(tool$teamsGetV1TeamsId);
  tool(tool$teamsPatchV1TeamsId);
  tool(tool$teamsGetV1TeamsIdMembers);
  tool(tool$usersGetV1UsersMe);
  tool(tool$usersPatchV1UsersMe);
  tool(tool$customersGetV1Customers);
  tool(tool$customersPostV1Customers);
  tool(tool$customersGetV1CustomersId);
  tool(tool$customersPatchV1CustomersId);
  tool(tool$customersDeleteV1CustomersId);
  tool(tool$bankAccountsGetV1BankAccounts);
  tool(tool$bankAccountsPostV1BankAccounts);
  tool(tool$bankAccountsGetV1BankAccountsId);
  tool(tool$bankAccountsPatchV1BankAccountsId);
  tool(tool$bankAccountsDeleteV1BankAccountsId);
  tool(tool$tagsGetV1Tags);
  tool(tool$tagsPostV1Tags);
  tool(tool$tagsGetV1TagsId);
  tool(tool$tagsPatchV1TagsId);
  tool(tool$tagsDeleteV1TagsId);
  tool(tool$documentsGetV1Documents);
  tool(tool$documentsGetV1DocumentsId);
  tool(tool$documentsDeleteV1DocumentsId);
  tool(tool$inboxGetV1Inbox);
  tool(tool$inboxGetV1InboxId);
  tool(tool$inboxDeleteV1InboxId);
  tool(tool$inboxPatchV1InboxId);
  tool(tool$invoicesGetV1Invoices);
  tool(tool$invoicesGetV1InvoicesPaymentStatus);
  tool(tool$invoicesGetV1InvoicesSummary);
  tool(tool$invoicesGetV1InvoicesId);
  tool(tool$invoicesDeleteV1InvoicesId);
  tool(tool$searchGetV1Search);
  tool(tool$metricsGetV1MetricsRevenue);
  tool(tool$metricsGetV1MetricsProfit);
  tool(tool$metricsGetV1MetricsBurnRate);
  tool(tool$metricsGetV1MetricsRunway);
  tool(tool$metricsGetV1MetricsExpenses);
  tool(tool$metricsGetV1MetricsSpending);
  tool(tool$trackerGetV1TrackerProjects);
  tool(tool$trackerPostV1TrackerProjects);
  tool(tool$trackerPatchV1TrackerProjectsId);
  tool(tool$trackerGetV1TrackerProjectsId);
  tool(tool$trackerDeleteV1TrackerProjectsId);
  tool(tool$trackerGetV1TrackerEntries);
  tool(tool$trackerDeleteV1TrackerEntriesId);

  return server;
}
